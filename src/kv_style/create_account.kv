# create_account.kv
#:import HoverableButton src.database.hoverablebutton

<CreateAccount>:
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'center'

        BoxLayout:
            orientation: 'vertical'
            size_hint: (None, None)
            size: (dp(250), dp(300))
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [dp(10), dp(10), dp(10), dp(10)]

            Label:
                text: 'Welcome to SpotiVibe!'
                color: [0,0.4,0,1]
                font_size: dp(20)
                bold: True
            BoxLayout:
                padding: dp(10)

                TextInput:
                    id: username_input
                    multiline: False
                    hint_text: 'Username'
                    write_tab: False
                    on_text_validate: root.submit(username_input.text, password_input.text, re_password_input.text)

            BoxLayout:
                padding: dp(10)

                TextInput:
                    id: password_input
                    multiline: False
                    hint_text: 'Password'
                    password: True
                    write_tab: False
                    on_text_validate: root.submit(username_input.text, password_input.text, re_password_input.text)

            BoxLayout:
                padding: dp(10)

                TextInput:
                    id: re_password_input
                    multiline: False
                    hint_text: 'Re-enter Password'
                    password: True
                    write_tab: False
                    on_text_validate: root.submit(username_input.text, password_input.text, re_password_input.text)

            AnchorLayout:
                anchor_x: 'center'
                anchor_y: 'center'

                HoverableButton:
                    size_hint: (None, None)
                    size: (dp(130), dp(30))
                    text: 'Create Account'
                    background_color:[0,1,0,1]
                    on_press:
                        root.manager.transition.direction = 'left'
                        root.submit(username_input.text, password_input.text, re_password_input.text)
            Label:
                id: error_message
                text: ''
                color: [1,0,0,0]

    HoverableButton:
        size_hint: (None, None)
        size: (dp(100), dp(30))
        text: 'Go Back'
        pos_hint: {'x': 0.01, 'y': 0.01}
        background_color:[0,1,0,1]
        on_press:
            root.manager.transition.direction = 'right'
            root.manager.current = 'login_page'